import{r as u,b,u as y,j as e,L as w}from"./index-CKv3ZS5v.js";const j=()=>{const[r,x]=u.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"player"}),[s,d]=u.useState({}),{register:p,error:n,clearError:f,isLoading:m}=b(),c=y(),g=()=>{const a={};return r.firstName.trim()||(a.firstName="First name is required"),r.lastName.trim()||(a.lastName="Last name is required"),r.email.trim()?/\S+@\S+\.\S+/.test(r.email)||(a.email="Email is invalid"):a.email="Email is required",r.password?r.password.length<8&&(a.password="Password must be at least 8 characters"):a.password="Password is required",r.password!==r.confirmPassword&&(a.confirmPassword="Passwords do not match"),d(a),Object.keys(a).length===0},o=a=>{const{name:t,value:l}=a.target;x(i=>({...i,[t]:l})),s[t]&&d(i=>({...i,[t]:""})),n&&f()},h=async a=>{if(a.preventDefault(),!!g())try{const t={firstName:r.firstName,lastName:r.lastName,email:r.email,password:r.password},l=await p(t);l&&l.requiresLogin?(console.log("Registration successful, need to login separately"),c("/login",{state:{message:"Registration successful! Please log in with your new account.",email:r.email}})):c("/onboarding")}catch(t){console.error("Registration failed:",t)}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("div",{className:"mx-auto h-12 w-12 bg-green-600 rounded-full flex items-center justify-center",children:e.jsx("svg",{className:"h-8 w-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M18 9v3m0 0v3m0-3h3m-3 0h-3m-2-5a4 4 0 11-8 0 4 4 0 018 0zM3 20a6 6 0 0112 0v1H3v-1z"})})}),e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(w,{to:"/login",className:"font-medium text-green-600 hover:text-green-500",children:"sign in to your existing account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:h,children:[n&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-md",children:n}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium text-gray-700",children:"First name"}),e.jsx("input",{id:"firstName",name:"firstName",type:"text",autoComplete:"given-name",required:!0,className:`mt-1 appearance-none relative block w-full px-3 py-2 border ${s.firstName?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"First name",value:r.firstName,onChange:o}),s.firstName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.firstName})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium text-gray-700",children:"Last name"}),e.jsx("input",{id:"lastName",name:"lastName",type:"text",autoComplete:"family-name",required:!0,className:`mt-1 appearance-none relative block w-full px-3 py-2 border ${s.lastName?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Last name",value:r.lastName,onChange:o}),s.lastName&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.lastName})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`mt-1 appearance-none relative block w-full px-3 py-2 border ${s.email?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Enter your email",value:r.email,onChange:o}),s.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"role",className:"block text-sm font-medium text-gray-700",children:"Role"}),e.jsxs("select",{id:"role",name:"role",className:"mt-1 appearance-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm",value:r.role,onChange:o,children:[e.jsx("option",{value:"player",children:"Player"}),e.jsx("option",{value:"coach",children:"Coach"}),e.jsx("option",{value:"admin",children:"Admin"})]})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"new-password",required:!0,className:`mt-1 appearance-none relative block w-full px-3 py-2 border ${s.password?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Create a password",value:r.password,onChange:o}),s.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.password})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Confirm password"}),e.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autoComplete:"new-password",required:!0,className:`mt-1 appearance-none relative block w-full px-3 py-2 border ${s.confirmPassword?"border-red-500":"border-gray-300"} placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm`,placeholder:"Confirm your password",value:r.confirmPassword,onChange:o}),s.confirmPassword&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:s.confirmPassword})]})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:m,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-50 disabled:cursor-not-allowed",children:m?e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Creating account..."]}):"Create account"})})]})]})})};export{j as default};
