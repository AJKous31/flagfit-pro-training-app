import{j as e}from"./query-73861c9c.js";import{r as i,R as L}from"./vendor-2fbe36df.js";import{u as z,b as W,L as v}from"./router-241b6e81.js";import{u as B}from"./index-48d8d68d.js";import"./state-acab8a68.js";import"./ui-300eb2b0.js";const R="/assets/laprimafit-correct-c7c5ee38.svg",G="data:image/png;base64,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",F="/assets/gearxpro-original-7b8c42e9.png",P=()=>{const h=z(),l=W(),{login:y,error:d,clearError:g}=B(),[a,m]=i.useState({email:"",password:""}),[n,p]=i.useState(!1),[o,f]=i.useState({}),[u,j]=i.useState(!1),[w,N]=i.useState(""),x=i.useRef(!1);i.useEffect(()=>{var s,r;(s=l.state)!=null&&s.message&&(N(l.state.message),(r=l.state)!=null&&r.email&&m(t=>({...t,email:l.state.email})))},[l.state]);const A=()=>{const s={};return a.email.trim()?/\S+@\S+\.\S+/.test(a.email)||(s.email="Email is invalid"):s.email="Email is required",a.password?a.password.length<6&&(s.password="Password must be at least 6 characters"):s.password="Password is required",f(s),Object.keys(s).length===0},b=s=>{const{name:r,value:t}=s.target;m(c=>({...c,[r]:t})),o[r]&&f(c=>({...c,[r]:""})),d&&g()},S=async s=>{if(s.preventDefault(),!(!A()||n||x.current)){x.current=!0,p(!0);try{const r=await y({...a,rememberMe:u});u?localStorage.setItem("rememberedEmail",a.email):localStorage.removeItem("rememberedEmail");const t=r==null?void 0:r.user,c=t&&!t.onboardingCompleted,C=new Date(t==null?void 0:t.created),k=new Date(Date.now()-60*60*1e3),E=C>k;c||E?(console.log("New user detected, redirecting to onboarding"),h("/onboarding")):(console.log("Returning user, redirecting to dashboard"),h("/dashboard"))}catch(r){console.error("Login failed:",r)}finally{p(!1),x.current=!1}}};return L.useEffect(()=>{g();const s=localStorage.getItem("rememberedEmail");s&&(m(r=>({...r,email:s})),j(!0))},[]),e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:e.jsxs("div",{className:"max-w-md w-full space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to FlagFit Pro"}),e.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Or"," ",e.jsx(v,{to:"/register",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"create a new account"})]})]}),e.jsxs("form",{className:"mt-8 space-y-6",onSubmit:S,children:[e.jsxs("div",{className:"rounded-md shadow-sm -space-y-px",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"sr-only",children:"Email address"}),e.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${o.email?"border-red-300 placeholder-red-500 text-red-900 focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm":"border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"} rounded-t-md`,placeholder:"Email address",value:a.email,onChange:b}),o.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.email})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"sr-only",children:"Password"}),e.jsx("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:`appearance-none rounded-none relative block w-full px-3 py-2 border ${o.password?"border-red-300 placeholder-red-500 text-red-900 focus:outline-none focus:ring-red-500 focus:border-red-500 focus:z-10 sm:text-sm":"border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm"} rounded-b-md`,placeholder:"Password",value:a.password,onChange:b}),o.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:o.password})]})]}),w&&e.jsx("div",{className:"rounded-md bg-green-50 p-4 mb-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-green-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})})}),e.jsx("div",{className:"ml-3",children:e.jsx("h3",{className:"text-sm font-medium text-green-800",children:e.jsx("p",{children:w})})})]})}),d&&e.jsx("div",{className:"rounded-md bg-red-50 p-4",children:e.jsxs("div",{className:"flex",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("svg",{className:"h-5 w-5 text-red-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-red-800",children:"Authentication failed"}),e.jsx("div",{className:"mt-2 text-sm text-red-700",children:e.jsx("p",{children:d})})]})]})}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",checked:u,onChange:s=>j(s.target.checked),className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-900",children:"Remember me"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(v,{to:"/forgot-password",className:"font-medium text-indigo-600 hover:text-indigo-500",children:"Forgot your password?"})})]}),e.jsx("div",{children:e.jsxs("button",{type:"submit",disabled:n,className:`group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white ${n?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"}`,children:[n?e.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):e.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true",children:e.jsx("path",{fillRule:"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z",clipRule:"evenodd"})}),n?"Signing in...":"Sign in"]})})]}),e.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[e.jsx("p",{className:"text-center text-xs text-gray-500 mb-4",children:"Proudly sponsored by"}),e.jsxs("div",{className:"flex justify-center items-center space-x-12",children:[e.jsx("a",{href:"https://www.laprimafit.com",target:"_blank",rel:"noopener noreferrer",className:"opacity-70 hover:opacity-100 transition-opacity duration-200 transform hover:scale-105",children:e.jsx("img",{src:R,alt:"LaPrimaFit - Fitness & Wellness",className:"h-6 w-auto"})}),e.jsx("a",{href:"https://www.chemius.net",target:"_blank",rel:"noopener noreferrer",className:"opacity-70 hover:opacity-100 transition-opacity duration-200 transform hover:scale-105",children:e.jsx("img",{src:G,alt:"Chemius - Chemical Solutions",className:"h-6 w-auto"})}),e.jsx("a",{href:"https://gearxpro-sports.com",target:"_blank",rel:"noopener noreferrer",className:"opacity-70 hover:opacity-100 transition-opacity duration-200 transform hover:scale-105",children:e.jsx("img",{src:F,alt:"GearXPro - Sports Equipment",className:"h-6 w-auto"})})]})]})]})})};export{P as default};
//# sourceMappingURL=LoginView-309cd0e5.js.map
